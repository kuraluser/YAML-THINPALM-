<div class="row">
    <div class="col">
        <cpdss-portal-grade-loading-order [loadablePatternCargoDetails]="loadablePattern.loadablePatternCargoDetails"
            [index]="index">
        </cpdss-portal-grade-loading-order>
        <cpdss-portal-constraint [constraint]="loadablePattern.constraints"></cpdss-portal-constraint>
        <cpdss-portal-cargo-tank-layout [options]="cargoTankOptions" [tanks]="tanks"></cpdss-portal-cargo-tank-layout>
        <div class="row">
            <div class="col text-center pt-20">
                <button class="btn btn-main mr-10" (click)="viewPlanInfo(loadablePattern)"
                    *cpdssPortalPermission="loadablePlanPermissionContext">{{'LOADABLE_PATTERN_HISTORY_VIEW_PLAN_BUTTON_LABEL' | translate}}</button>
                <button class="btn btn-main mr-10"
                    [disabled]="!loadablePattern.validated || [VALIDATION_AND_SAVE_STATUS.LOADABLE_PLAN_STARTED,VALIDATION_AND_SAVE_STATUS.LOADABLE_PLAN_FAILED].includes(loadablePattern.loadablePatternStatusId)"
                    (click)="onConfirmPlanClick(loadablePattern?.loadablePatternId)" id="pattern-history-confirm-btn"
                    *ngIf="loadablePattern?.loadableStudyStatusId !== LOADABLE_STUDY_STATUS.PLAN_CONFIRMED && selectedVoyage && selectedVoyage?.statusId !== VOYAGE_STATUS.CLOSE">{{'LOADABLE_PATTERN_HISTORY_CONFIRM_PLAN_BUTTON_LABEL' | translate}}</button>
                <button class="btn btn-main confirmed mr-10" *ngIf="loadablePattern?.loadableStudyStatusId === 2"
                    [disabled]="true">
                    <span class="pi pi-check check-rounded"></span>
                    {{'LOADABLE_PATTERN_HISTORY_CONFIRMED_PLAN_BUTTON_LABEL' | translate}}</button>
                <button id="download_dat_file" class="btn btn-main" (click)="downloadDatFile()">
                    <span class="download-icon v-top"></span>
                    {{'DOWNLOAD_DAT_FILE' | translate}}</button>
            </div>
        </div>
    </div>
    <div class="col-5">
        <cpdss-portal-cargo-priority-grid [tableCol]="tableCol" [styleClass]="'table-pattern'"
            [loadablePatternCargoDetails]="loadablePattern.loadablePatternCargoDetails"
            [totalHeader]="'CARGO_PRIORITY_GRID_FOOTER_TOTAL'" (isCommingle)="showComminglePopup($event)"
            (patternViewMore)="patternViewMore($event)">
        </cpdss-portal-cargo-priority-grid>
    </div>
</div>
